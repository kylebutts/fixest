<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Treated and control sample descriptives — did_means • fixest</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Treated and control sample descriptives — did_means"><meta name="description" content="This function shows the means and standard-deviations of several variables conditional on whether they are from the treated or the control group. The groups can further be split according to a pre/post variable. Results can be seamlessly be exported to Latex."><meta property="og:description" content="This function shows the means and standard-deviations of several variables conditional on whether they are from the treated or the control group. The groups can further be split according to a pre/post variable. Results can be seamlessly be exported to Latex."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">fixest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.12.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/fixest_walkthrough.html">Fast Fixed-Effects Estimation: Short Introduction</a></li>
    <li><a class="dropdown-item" href="../articles/multiple_estimations.html">Multiple estimations</a></li>
    <li><a class="dropdown-item" href="../articles/standard_errors.html">On standard-errors</a></li>
    <li><a class="dropdown-item" href="../articles/collinearity.html">On collinearity</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Estimation tables</h6></li>
    <li><a class="dropdown-item" href="../articles/exporting_tables.html">Exporting estimation tables</a></li>
    <li><a class="dropdown-item" href="../articles/etable_new_features.html">`etable`: new features in `fixest` 0.10.2</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/lrberge/fixest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Treated and control sample descriptives</h1>
      <small class="dont-index">Source: <a href="https://github.com/lrberge/fixest/blob/HEAD/R/miscfuns.R" class="external-link"><code>R/miscfuns.R</code></a></small>
      <div class="d-none name"><code>did_means.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function shows the means and standard-deviations of several variables conditional on whether they are from the treated or the control group. The groups can further be split according to a pre/post variable. Results can be seamlessly be exported to Latex.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">did_means</span><span class="op">(</span></span>
<span>  <span class="va">fml</span>,</span>
<span>  <span class="va">base</span>,</span>
<span>  <span class="va">treat_var</span>,</span>
<span>  <span class="va">post_var</span>,</span>
<span>  tex <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">treat_dict</span>,</span>
<span>  dict <span class="op">=</span> <span class="fu"><a href="setFixest_dict.html">getFixest_dict</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">file</span>,</span>
<span>  replace <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">title</span>,</span>
<span>  <span class="va">label</span>,</span>
<span>  raw <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">indiv</span>,</span>
<span>  <span class="va">treat_first</span>,</span>
<span>  prepostnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Before"</span>, <span class="st">"After"</span><span class="op">)</span>,</span>
<span>  diff.inv <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fml">fml<a class="anchor" aria-label="anchor" href="#arg-fml"></a></dt>
<dd><p>Either a formula of the type <code>var1 + ... + varN ~ treat</code> or
<code>var1 + ... + varN ~ treat | post</code>. Either a data.frame/matrix containing
all the variables for which the means are to be computed (they must be numeric of course).
Both the treatment and the post variables must contain only exactly two values.
You can use a point to select all the variables of the data set: <code>. ~ treat</code>.</p></dd>


<dt id="arg-base">base<a class="anchor" aria-label="anchor" href="#arg-base"></a></dt>
<dd><p>A data base containing all the variables in the formula <code>fml</code>.</p></dd>


<dt id="arg-treat-var">treat_var<a class="anchor" aria-label="anchor" href="#arg-treat-var"></a></dt>
<dd><p>Only if argument <code>fml</code> is <em>not</em> a formula. The vector identifying
the treated and the control observations (the vector can be of any type but must
contain only two possible values). Must be of the same length as the data.</p></dd>


<dt id="arg-post-var">post_var<a class="anchor" aria-label="anchor" href="#arg-post-var"></a></dt>
<dd><p>Only if argument <code>fml</code> is <em>not</em> a formula. The vector identifying
the periods (pre/post) of the observations (the vector can be of any type but
must contain only two possible values). The first value (in the sorted sense)
of the vector is taken as the pre period. Must be of the same length as the data.</p></dd>


<dt id="arg-tex">tex<a class="anchor" aria-label="anchor" href="#arg-tex"></a></dt>
<dd><p>Should the result be displayed in Latex? Default is <code>FALSE</code>. Automatically
set to <code>TRUE</code> if the table is to be saved in a file using the argument <code>file</code>.</p></dd>


<dt id="arg-treat-dict">treat_dict<a class="anchor" aria-label="anchor" href="#arg-treat-dict"></a></dt>
<dd><p>A character vector of length two. What are the names of the treated
and the control? This should be a dictionary: e.g. <code>c("1"="Treated", "0" = "Control")</code>.</p></dd>


<dt id="arg-dict">dict<a class="anchor" aria-label="anchor" href="#arg-dict"></a></dt>
<dd><p>A named character vector. A dictionary between the variables names and an alias.
For instance <code>dict=c("x"="Inflation Rate")</code> would replace the variable name <code>x</code>
by “Inflation Rate”.</p></dd>


<dt id="arg-file">file<a class="anchor" aria-label="anchor" href="#arg-file"></a></dt>
<dd><p>A file path. If given, the table is written in Latex into this file.</p></dd>


<dt id="arg-replace">replace<a class="anchor" aria-label="anchor" href="#arg-replace"></a></dt>
<dd><p>Default is <code>TRUE</code>, which means that when the table is exported, the
existing file is not erased.</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Character string giving the Latex title of the table. (Only if exported.)</p></dd>


<dt id="arg-label">label<a class="anchor" aria-label="anchor" href="#arg-label"></a></dt>
<dd><p>Character string giving the Latex label of the table. (Only if exported.)</p></dd>


<dt id="arg-raw">raw<a class="anchor" aria-label="anchor" href="#arg-raw"></a></dt>
<dd><p>Logical, default is <code>FALSE</code>. If <code>TRUE</code>, it returns the information without formatting.</p></dd>


<dt id="arg-indiv">indiv<a class="anchor" aria-label="anchor" href="#arg-indiv"></a></dt>
<dd><p>Either the variable name of individual identifiers, a one sided formula,
or a vector. If the data is that of a panel, this can be used to track the number
of individuals per group.</p></dd>


<dt id="arg-treat-first">treat_first<a class="anchor" aria-label="anchor" href="#arg-treat-first"></a></dt>
<dd><p>Which value of the 'treatment' vector should appear on the left?
By default the max value appears first (e.g. if the treatment variable is a 0/1 vector,
1 appears first).</p></dd>


<dt id="arg-prepostnames">prepostnames<a class="anchor" aria-label="anchor" href="#arg-prepostnames"></a></dt>
<dd><p>Only if there is a 'post' variable. The names of the pre and post
periods to be displayed in Latex. Default is <code>c("Before", "After")</code>.</p></dd>


<dt id="arg-diff-inv">diff.inv<a class="anchor" aria-label="anchor" href="#arg-diff-inv"></a></dt>
<dd><p>Logical, default to <code>FALSE</code>. Whether to inverse the difference.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>It returns a data.frame or a Latex table with the conditional means and statistical differences between the groups.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>By default, when the user tries to apply this function to nun-numeric variables, an error is raised. The exception is when the all variables are selected with the dot (like in <code>. ~ treat</code>. In this case, non-numeric variables are automatically omitted (with a message).</p>
<p>NAs are removed automatically: if the data contains NAs an information message will be prompted. First all observations containing NAs relating to the treatment or post variables are removed. Then if there are still NAs for the variables, they are excluded separately for each variable, and a new message detailing the NA breakup is prompted.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Playing around with the DiD data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">base_did</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># means of treat/control</span></span></span>
<span class="r-in"><span><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span>, <span class="va">base_did</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           vars    cond: 1      cond: 0 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            y    3.3 (6)     0.68 (5)       2.64   7.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           x1 0.13 (3.1) -0.066 (2.8)      0.199    1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       period  5.5 (2.9)    5.5 (2.9)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Observations        550          530                  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same but inverting the difference</span></span></span>
<span class="r-in"><span><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span>, <span class="va">base_did</span>, diff.inv <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           vars    cond: 1      cond: 0 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            y    3.3 (6)     0.68 (5)      -2.64  -7.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           x1 0.13 (3.1) -0.066 (2.8)     -0.199   -1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       period  5.5 (2.9)    5.5 (2.9)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Observations        550          530                  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># now treat/control, before/after</span></span></span>
<span class="r-in"><span><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span><span class="op">|</span><span class="va">post</span>, <span class="va">base_did</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           vars    cond: 1     cond: 0 Difference t-stat     cond: 1     cond: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1            y 0.47 (5.1)    0.32 (5)      0.142  0.326   6.2 (5.5)       1 (5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           x1 0.17 (3.1) 0.046 (2.9)      0.125  0.487 0.095 (3.1) -0.18 (2.8)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       period    3 (1.4)     3 (1.4)          0      0     8 (1.4)     8 (1.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 Observations        275         265                           275         265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       5.14   11.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2      0.272   1.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same but with a new line giving the number of unique "indiv" for each case</span></span></span>
<span class="r-in"><span><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span><span class="op">|</span><span class="va">post</span>, <span class="va">base_did</span>, indiv <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            vars    cond: 1     cond: 0 Difference t-stat     cond: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             y 0.47 (5.1)    0.32 (5)      0.142  0.326   6.2 (5.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            x1 0.17 (3.1) 0.046 (2.9)      0.125  0.487 0.095 (3.1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        period    3 (1.4)     3 (1.4)          0      0     8 (1.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Observations        275         265                           275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 # Individuals         55          53                            55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       cond: 0 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       1 (5)       5.14   11.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -0.18 (2.8)      0.272   1.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     8 (1.4)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         265                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          53                  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># same but with the treat case "0" coming first</span></span></span>
<span class="r-in"><span><span class="fu">did_means</span><span class="op">(</span><span class="va">y</span><span class="op">+</span><span class="va">x1</span><span class="op">+</span><span class="va">period</span><span class="op">~</span><span class="va">treat</span><span class="op">|</span><span class="va">post</span>, <span class="va">base_did</span>, indiv <span class="op">=</span> <span class="op">~</span><span class="va">id</span>, treat_first <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            vars     cond: 0    cond: 1 Difference t-stat     cond: 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             y    0.32 (5) 0.47 (5.1)     -0.142 -0.326       1 (5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            x1 0.046 (2.9) 0.17 (3.1)     -0.125 -0.487 -0.18 (2.8)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        period     3 (1.4)    3 (1.4)          0      0     8 (1.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Observations         265        275                           265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 # Individuals          53         55                            53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       cond: 1 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   6.2 (5.5)      -5.14  -11.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.095 (3.1)     -0.272  -1.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     8 (1.4)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         275                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          55                  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Selecting all the variables with "."</span></span></span>
<span class="r-in"><span><span class="fu">did_means</span><span class="op">(</span><span class="va">.</span><span class="op">~</span><span class="va">treat</span><span class="op">|</span><span class="va">post</span>, <span class="va">base_did</span>, indiv <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            vars    cond: 1     cond: 0 Difference t-stat     cond: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             y 0.47 (5.1)    0.32 (5)      0.142  0.326   6.2 (5.5)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2            x1 0.17 (3.1) 0.046 (2.9)      0.125  0.487 0.095 (3.1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        period    3 (1.4)     3 (1.4)          0      0     8 (1.4)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  Observations        275         265                           275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 # Individuals         55          53                            55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       cond: 0 Difference t-stat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       1 (5)       5.14   11.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -0.18 (2.8)      0.272   1.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     8 (1.4)          0      0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         265                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5          53                  </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

